const postContext={initShare(){const $qrcode_wx=$(".qrcode_wx");$qrcode_wx.length&&$qrcode_wx.qrcode({width:140,height:140,render:"canvas",typeNumber:-1,correctLevel:0,background:"#ffffff",foreground:"#000000",text:location.href})},initToc(){if(!(document.body.clientWidth<=1200)){var baseTopPadding=240,maxToppadding=134,offset=100,bottomOffset=30;if($("div").hasClass("toc")){$(".toc-container").css("height",$(".by_main").outerHeight()),$(".by_container").children("h1,h2,h3,h4,h5").each((function(index){var hyphenated="toc-head-"+index;$(this).attr("id",hyphenated)})),tocbot.init({tocSelector:"#js-toc",contentSelector:".by_container",ignoreSelector:".js-toc-ignore",headingSelector:"h1, h2, h3, h4, h5",collapseDepth:0,hasInnerContainers:!1,scrollSmoothOffset:-80,positionFixedSelector:".by_catalogue",fixedSidebarOffset:"auto",disableTocScrollSync:!0,headingsOffset:$("#page").find(".pattern-center").length>0?-500:-230,scrollEndCallback:function(e){if(0!=$(".is-active-link").length)if(0!=$(window).scrollTop()){var activeLikeOffset=$(".is-active-link").offset().top-$(window).scrollTop();activeLikeOffset<100?$(".toc").animate({scrollTop:$(".toc").scrollTop()-(100-activeLikeOffset+$(".is-active-link").height())}):activeLikeOffset>$(window).height()-30&&$(".toc").animate({scrollTop:$(".toc").scrollTop()+(activeLikeOffset-100)})}else $(".toc").animate({scrollTop:0})}});var interval=setInterval((function(){"complete"==document.readyState&&($(".toc").css("max-height",$(document).scrollTop()+($(window).height()-240)+"px"),$(".toc-container").css("height",$(".by_main").outerHeight()-240+"px"),$(window).scroll((function(){var s=$(document).scrollTop();0==s?$(".toc").css("max-height",$(document).scrollTop()+($(window).height()-240)+"px"):s>100?$(".toc").css("max-height",$(window).height()-134+"px"):$(".toc").css("max-height",$(document).scrollTop()+($(window).height()-240)+"px")})),clearInterval(interval))}),2e3)}}}};document.addEventListener("DOMContentLoaded",(function(){Object.values(postContext).forEach(f=>f())}));